<!DOCTYPE html>
<html lang="en" style="height: 100%">
<head>
  <meta charset="UTF-8">
  <title>Document</title>
</head>
<body style="height: 100%">

  <div id="test" style="background-color: red;width: 100px;height: 100px;position: absolute;top: 100px;left: 100px;"></div>

  <script>
    var oldDomX, oldDomY, oldMouseX, oldMouseY
    var header = document.querySelector('#test')

    function movable ( event ) {
      var dX = parseInt(event.clientX - oldMouseX),
          dY = parseInt(event.clientY - oldMouseY)

      header.setAttribute('style','background-color: red;width: 100px;height: 100px;position: absolute;top: 100px;left: 100px;transform:translate(' + (oldDomX + dX) + 'px,' + (oldDomY + dY) + 'px)')
    }

    var a = {
        T:function T () {
          T.prototype.b = 'b'
      }
    }
    var test = new a.T
    test.a = 'a'

    header.addEventListener( 'mousedown', function ( e ) {
      oldDomX = header.getAttribute( 'transform' )
      oldDomY = header.getAttribute( 'transform' )
      oldMouseX = e.clientX
      oldMouseY = e.clientY
      console.log(oldDomX,oldDomY)

      header.addEventListener( 'mousemove', movable )
    } )

    header.addEventListener( 'mouseup', function () {
      header.removeEventListener( 'mousemove', movable )
    } )

    header.addEventListener( 'mouseout', function () {
      header.removeEventListener( 'mousemove', movable )
    } )

  </script>
</body>
</html>
